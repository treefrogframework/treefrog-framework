.\" Man page generated from reStructuredText.
.
.TH "MONGOC_COLLECTION_CREATE_INDEX_WITH_OPTS" "3" "Jun 07, 2022" "1.21.2" "libmongoc"
.SH NAME
mongoc_collection_create_index_with_opts \- mongoc_collection_create_index_with_opts()
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
bool
mongoc_collection_create_index_with_opts (mongoc_collection_t *collection,
                                          const bson_t *keys,
                                          const mongoc_index_opt_t *index_opts,
                                          const bson_t *command_opts,
                                          bson_t *reply,
                                          bson_error_t *error);
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DEPRECATED
.sp
This function is deprecated and should not be used in new code. See create\-indexes\&.
.SH PARAMETERS
.INDENT 0.0
.IP \(bu 2
\fBcollection\fP: A \fBmongoc_collection_t\fP\&.
.IP \(bu 2
\fBkeys\fP: A \fI\%bson_t\fP\&.
.IP \(bu 2
\fBindex_opts\fP: A mongoc_index_opt_t.
.IP \(bu 2
\fBreply\fP: An optional location for a \fI\%bson_t\fP which will store the server\(aqs reply.
.IP \(bu 2
\fBerror\fP: An optional location for a \fBbson_error_t\fP or \fBNULL\fP\&.
.UNINDENT
.sp
\fBcommand_opts\fP may be NULL or a BSON document with additional command options:
.INDENT 0.0
.IP \(bu 2
\fBwriteConcern\fP: Construct a \fBmongoc_write_concern_t\fP and use \fBmongoc_write_concern_append\fP to add the write concern to \fBopts\fP\&. See the example code for \fBmongoc_client_write_command_with_opts\fP\&.
.IP \(bu 2
\fBsessionId\fP: First, construct a \fBmongoc_client_session_t\fP with \fBmongoc_client_start_session\fP\&. You can begin a transaction with \fBmongoc_client_session_start_transaction\fP, optionally with a \fBmongoc_transaction_opt_t\fP that overrides the options inherited from \fBcollection\fP, and use \fBmongoc_client_session_append\fP to add the session to \fBopts\fP\&. See the example code for \fBmongoc_client_session_t\fP\&.
.UNINDENT
.SH DESCRIPTION
.sp
This function will request the creation of a new index.
.sp
This function will use the \fBcreateIndexes\fP command.
The server\(aqs reply is stored in \fBreply\fP\&.
.sp
If no write concern is provided in \fBcommand_opts\fP, the collection\(aqs write concern is used.
.sp
See \fBmongoc_index_opt_t\fP for options on creating indexes.
.SH ERRORS
.sp
Errors are propagated via the \fBerror\fP parameter.
.SH RETURNS
.sp
Returns \fBtrue\fP if successful. Returns \fBfalse\fP and sets \fBerror\fP if there are invalid arguments or a server or network error.
.sp
\fBreply\fP is always initialized and must be destroyed with \fI\%bson_destroy()\fP\&. If the server is running an obsolete version of MongoDB then \fBreply\fP may be empty, though it will still be initialized.
.SH AUTHOR
MongoDB, Inc
.SH COPYRIGHT
2017-present, MongoDB, Inc
.\" Generated by docutils manpage writer.
.
